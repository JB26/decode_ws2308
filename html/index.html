<%include file="header.html" />
<body>
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">Wetter</a>
      </div>
    </div>
  </nav>
  <div class="container">
    <div class="row">
      <h2>Aktuelles Wetter in Bremen</h2>
      <div class="col-md-6">
      <h3>Aussen</h3>
      <table class="table">
        <thead>
          <tr>
            <th>Sensor</th>
            <th>Wert</th>
            <th>Messzeitpunkt</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Temperatur</td>
            <td>${weather['temp_out']['value']} 째C</td>
            <td>${weather['temp_out']['date'][:-10]}</td>
          </tr>
          <tr>
            <td>Luftfeuchte</td>
            <td>${weather['humidity_out']['value']} %</td>
            <td>${weather['humidity_out']['date'][:-10]}</td>
          </tr>
          <tr>
            <td>Wind</td>
            <td>${weather['wind_v']['value']} m/s; ${weather['wind_d']['value']}째</td>
            <td>${weather['wind_v']['date'][:-10]}</td>
          </tr>
          <tr>
            <td>Regen (letzte Stunde)</td>
            <td>${weather['rain_last_hour']['value']} ml</td>
            <td>${weather['rain']['date'][:-10]}</td>
          </tr>
        </tbody>
      </table>
      </div>
      <div class="col-md-6">
      <h3>Innen (J체rn)</h3>
      <table class="table">
        <thead>
          <tr>
            <th>Sensor</th>
            <th>Wert</th>
            <th>Messzeitpunkt</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Temperatur</td>
            <td>${weather['temp_in']['value']} 째C</td>
            <td>${weather['temp_in']['date'][:-10]}</td>
          </tr>
          <tr>
            <td>Luftfeuchte</td>
            <td>${weather['humidity_in']['value']} %</td>
            <td>${weather['humidity_in']['date'][:-10]}</td>
          </tr>
          <tr>
            <td>Luftdruck</td>
            <td>${weather['pressure_in']['value']} hPa</td>
            <td>${weather['pressure_in']['date'][:-10]}</td>
          </tr>
        </tbody>
      </table>
      </div>
    </div>
    <div class="row">
      <h2>Statistiken</h2>
      <div class="col-md-12">
        <h4>Zeitraum</h4>
        <p>Von jetzt bis:</p>
        <form class="form-inline" action="/">
          <div class="form-group">
            <label for="number">Anzahl:</label>
            % if number != None:
              <input type="text" class="form-control" id="number" name="number" placeholder="60" value="${number}">
            % else:
              <input type="text" class="form-control" id="number" name="number" placeholder="60">
            % endif
          </div>
          <div class="form-group">
            <label for="_type">Schrittweite:</label>
            <select class="form-control" id="_type" name="_type">
              % for x in translated_time:
                % if _type == x[0]:
                  <option value="${x[0]}" selected>${x[1]}</option>
                % else:
                  <option value="${x[0]}">${x[1]}</option>
                % endif
              % endfor
            </select>
          </div>
          <button type="submit" class="btn btn-default">Ok</button>
        </form>
        <p>Oder Zeitraum festlegen:</p>
        <form class="form-inline" action="/">
          <div class="form-group">
            <label for="start_date">Anfang:</label>
            % if start_date != None:
              <input type="text" class="form-control" id="start_date" name="start_date" placeholder="2015-01-25 06:45" value="${start_date}">
            % else:
              <input type="text" class="form-control" id="start_date" name="start_date" placeholder="2015-01-25 06:45">
            % endif
          </div>
          <div class="form-group">
            <label for="start_date">Ende:</label>
            % if end_date != None:
              <input type="text" class="form-control" id="end_date" name="end_date" placeholder="2015-01-30 15:04" value="${end_date}">
            % else:
              <input type="text" class="form-control" id="end_date" name="end_date" placeholder="2015-01-30 15:04">
            % endif
          </div>
        <button type="submit" class="btn btn-default">Ok</button>
        </form>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <p>Aktueller Zeitraum von ${str(start)[:-10]} bis ${str(end)[:-10]}</p>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <h3>Temperatur</h3>
          <div id="temp">
            <svg></svg>
          </div>
      </div>
    <div class="row">
      <div class="col-md-6">
        <h3>Luftfeuchte aussen</h3>
        <canvas class="chart" id="humidity_out" width="2px" height="1px"></canvas>
      </div>
      <div class="col-md-6">
        <h3>Luftfeuchte innen</h3>
        <canvas class="chart" id="humidity_in" width="2px" height="1px"></canvas>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <h3>Windgeschwindigkeit</h3>
        <canvas class="chart" id="wind_v" width="2px" height="1px"></canvas>
      </div>
      <div class="col-md-6">
        <h3>Windrichtung</h3>
        <canvas class="chart" id="wind_d" width="2px" height="1px"></canvas>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <h3>Regen</h3>
        <canvas class="chart" id="rain" width="2px" height="1px"></canvas>
      </div>
      <div class="col-md-6">
        <h3>Luftdruck innen</h3>
        <canvas class="chart" id="pressure_in" width="2px" height="1px"></canvas>
      </div>
    </div>
  </div>
<script src="/static/js/local_chart.js"></script>
</body>
</html>
